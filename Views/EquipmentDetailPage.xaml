<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:powered_parachute.ViewModels"
             x:Class="powered_parachute.Views.EquipmentDetailPage"
             x:DataType="vm:EquipmentDetailViewModel"
             Title="{Binding Title}">

    <Grid RowDefinitions="*,Auto" BackgroundColor="#F5F5F5">
        <ScrollView Grid.Row="0">
            <VerticalStackLayout Padding="20" Spacing="14">

                <!-- Frame Info -->
                <Label Text="Frame" FontSize="20" FontAttributes="Bold" TextColor="{StaticResource Primary}" />
                <Grid ColumnDefinitions="*,*" ColumnSpacing="12" RowDefinitions="Auto,Auto,Auto" RowSpacing="10">
                    <Entry Grid.Row="0" Grid.Column="0" Text="{Binding Manufacturer}" Placeholder="Manufacturer" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="0" Grid.Column="1" Text="{Binding Model}" Placeholder="Model" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="1" Grid.Column="0" Text="{Binding NNumber}" Placeholder="N-Number" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="1" Grid.Column="1" Text="{Binding Year}" Placeholder="Year" Keyboard="Numeric" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="2" Grid.Column="0" Text="{Binding SerialNumber}" Placeholder="Serial Number" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="2" Grid.Column="1" Text="{Binding EmptyWeight}" Placeholder="Empty Weight (lbs)" Keyboard="Numeric" FontSize="16" BackgroundColor="White" />
                </Grid>

                <!-- Engine -->
                <Label Text="Engine" FontSize="20" FontAttributes="Bold" TextColor="{StaticResource Primary}" Margin="0,12,0,0" />
                <Grid ColumnDefinitions="*,*" ColumnSpacing="12" RowDefinitions="Auto,Auto" RowSpacing="10">
                    <Entry Grid.Row="0" Grid.Column="0" Text="{Binding EngineManufacturer}" Placeholder="Engine Manufacturer" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="0" Grid.Column="1" Text="{Binding EngineModel}" Placeholder="Engine Model" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="1" Grid.Column="0" Text="{Binding TotalEngineHours}" Placeholder="Total Hours" Keyboard="Numeric" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="1" Grid.Column="1" Text="{Binding TboHours}" Placeholder="TBO Hours" Keyboard="Numeric" FontSize="16" BackgroundColor="White" />
                </Grid>

                <!-- Wing -->
                <Label Text="Wing" FontSize="20" FontAttributes="Bold" TextColor="{StaticResource Primary}" Margin="0,12,0,0" />
                <Grid ColumnDefinitions="*,*" ColumnSpacing="12" RowDefinitions="Auto,Auto" RowSpacing="10">
                    <Entry Grid.Row="0" Grid.Column="0" Text="{Binding WingManufacturer}" Placeholder="Wing Manufacturer" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="0" Grid.Column="1" Text="{Binding WingModel}" Placeholder="Wing Model" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="1" Grid.Column="0" Text="{Binding WingSizeSqFt}" Placeholder="Size (sq ft)" Keyboard="Numeric" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="1" Grid.Column="1" Text="{Binding WingHours}" Placeholder="Wing Hours" Keyboard="Numeric" FontSize="16" BackgroundColor="White" />
                </Grid>

                <!-- Propeller -->
                <Label Text="Propeller" FontSize="20" FontAttributes="Bold" TextColor="{StaticResource Primary}" Margin="0,12,0,0" />
                <Grid ColumnDefinitions="*,*" ColumnSpacing="12" RowDefinitions="Auto,Auto" RowSpacing="10">
                    <Entry Grid.Row="0" Grid.Column="0" Text="{Binding PropManufacturer}" Placeholder="Prop Manufacturer" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="0" Grid.Column="1" Text="{Binding PropModel}" Placeholder="Prop Model" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="1" Grid.Column="0" Text="{Binding PropDiameter}" Placeholder="Diameter" Keyboard="Numeric" FontSize="16" BackgroundColor="White" />
                    <Entry Grid.Row="1" Grid.Column="1" Text="{Binding PropMaterial}" Placeholder="Material" FontSize="16" BackgroundColor="White" />
                </Grid>

                <!-- Delete Button -->
                <Button Text="Delete PPC" Command="{Binding DeleteFrameCommand}"
                        BackgroundColor="{StaticResource Secondary}" TextColor="White"
                        FontSize="16" HeightRequest="45" CornerRadius="10" Margin="0,20,0,0"
                        IsVisible="{Binding IsNewFrame, Converter={StaticResource InvertedBoolConverter}}" />

            </VerticalStackLayout>
        </ScrollView>

        <Border Grid.Row="1" BackgroundColor="White" Padding="20,14,20,20" StrokeThickness="0">
            <Border.Shadow><Shadow Brush="Black" Opacity="0.1" Radius="10" Offset="0,-2" /></Border.Shadow>
            <Button Text="Save Equipment" Command="{Binding SaveEquipmentCommand}"
                    BackgroundColor="{StaticResource Success}" TextColor="White"
                    FontSize="20" FontAttributes="Bold" HeightRequest="55" CornerRadius="12" />
        </Border>
    </Grid>
</ContentPage>
